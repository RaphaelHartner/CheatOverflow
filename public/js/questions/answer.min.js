"use strict";function getQuestionID(){var a=window.location.href;return/id=([^&]+)/.exec(a)[1]}function getStackexSite(){var a=window.location.href;return/site=([^&]+)/.exec(a)[1]}function loadQuestion(a,b){var c=!1,d=[];null!=localStorage.savedQuestions&&(d=JSON.parse(localStorage.savedQuestions));for(var e=0;e<d.length;e++)if(d[e].id==a&&d[e].stackexsite==b){document.getElementById("StackExchangeQuestionTitle").innerHTML=d[e].questiontitle,document.getElementById("StackExchangeQuestionText").innerHTML=d[e].question,document.getElementById("StackExchangeAnswers").innerHTML=d[e].answers,document.getElementById("SaveQuestionToLocalStorage").style.visibility="hidden",c=!0;break}if(!c){var f=new XMLHttpRequest;f.open("GET","https://api.stackexchange.com/2.2/questions/"+a+"?order=desc&sort=activity&site="+b+"&filter=!-*f(6rc.(Xr5&key=bF8kysNL8Z2W7K5llHJgGg((",!0),f.onreadystatechange=function(){if(4==f.readyState&&f.status>=200&&f.status<300){var a=JSON.parse(f.responseText).items;document.getElementById("StackExchangeQuestionTitle").innerHTML=a[0].title,document.getElementById("StackExchangeQuestionText").innerHTML=a[0].body;var b=a[0].answers;b.forEach(function(a){a.is_accepted?document.getElementById("StackExchangeAnswers").innerHTML+='<article class="acceptedAnswer">'+a.body+"</article><hr />":document.getElementById("StackExchangeAnswers").innerHTML+="<p>"+a.body+"</p><hr />"})}},f.send()}}function saveToLocalStorage(a,b){var c=[];null!=localStorage.savedQuestions&&(c=JSON.parse(localStorage.savedQuestions));var d=document.getElementById("StackExchangeQuestionTitle").innerHTML,e=document.getElementById("StackExchangeQuestionText").innerHTML,f=document.getElementById("StackExchangeAnswers").innerHTML,g={id:a,stackexsite:b,questiontitle:d,question:e,answers:f};c.push(g),localStorage.savedQuestions=JSON.stringify(c),alert("Question successfully saved offline!")}window.onload=function(){var a=getQuestionID(),b=getStackexSite();loadQuestion(a,b),document.getElementById("SaveQuestionToLocalStorage").addEventListener("click",function(){saveToLocalStorage(a,b)})};